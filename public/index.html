<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>工作随笔</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">工作随笔</h1><a id="logo" href="/.">工作随笔</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"><a href="/2020/11/03/Flink%20Connect%E5%92%8CUnion%E5%8C%BA%E5%88%AB/">Flink Connect和Union区别</a></h1><div class="post-meta">2020-11-03</div><div class="post-content"><p><code>Flink DataStream</code>中<code>union</code>和<code>connect</code>都有一个共同的作用，就是将2个流或多个流合成一个流。但是两者的区别是：<code>union</code>连接的2个流的类型必须一致，<code>connect</code>连接的流可以不一致，但是可以统一处理。</p></div><p class="readmore"><a href="/2020/11/03/Flink%20Connect%E5%92%8CUnion%E5%8C%BA%E5%88%AB/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/10/20/Java8%E7%9A%84Function%E5%92%8CBI_Function/">Java8的Function和BI_Function</a></h1><div class="post-meta">2020-10-20</div><div class="post-content"><h1 id="Function函数"><a href="#Function函数" class="headerlink" title="Function函数"></a>Function函数</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p> Function作为一个函数式接口，主要方法apply接受一个参数，返回一个值</p></div><p class="readmore"><a href="/2020/10/20/Java8%E7%9A%84Function%E5%92%8CBI_Function/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/10/20/Java%E4%B8%AD%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%B5%84%E6%BA%90%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95/">Java中如何自动调用父类中的资源初始化方法</a></h1><div class="post-meta">2020-10-20</div><div class="post-content"><h1 id="一个简单的例子"><a href="#一个简单的例子" class="headerlink" title="一个简单的例子"></a>一个简单的例子</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>在写程序时候常常有一些资源初始化方法，我们希望这些方法能够被自动调用 ，可以使用如下方式实现自动调用</p></div><p class="readmore"><a href="/2020/10/20/Java%E4%B8%AD%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%B5%84%E6%BA%90%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/20/Centos7%E5%AE%89%E8%A3%85python3/">Centos7安装python3</a></h1><div class="post-meta">2020-07-20</div><div class="post-content"><h2 id="下载python3安装包"><a href="#下载python3安装包" class="headerlink" title="下载python3安装包"></a>下载python3安装包</h2><p>wget -c <a href="https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz" target="_blank" rel="noopener">https://www.python.org/ftp/python/3.7.3/Python-3.7.3.tgz</a></p></div><p class="readmore"><a href="/2020/07/20/Centos7%E5%AE%89%E8%A3%85python3/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/11/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%BB%93%E5%BA%93/">如何搭建个人仓库</a></h1><div class="post-meta">2020-07-11</div><div class="post-content"><h1 id="ssh端口为22情况"><a href="#ssh端口为22情况" class="headerlink" title="ssh端口为22情况"></a>ssh端口为22情况</h1><p>在服务器端172.27.9.121搭建仓库</p>
<p>1.在仓库目录/tmp/myproject.git输入git init</p>
<p>2.允许上传代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config receive.denyCurrentBranch ignore</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2020/07/11/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%BB%93%E5%BA%93/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/11/%E9%9D%A2%E8%AF%95-kafka%E4%B8%93%E9%A2%98/">面试-Kafka专题</a></h1><div class="post-meta">2020-07-11</div><div class="post-content"><h1 id="使用Kafka时会遇到的问题"><a href="#使用Kafka时会遇到的问题" class="headerlink" title="使用Kafka时会遇到的问题"></a>使用Kafka时会遇到的问题</h1><ol>
<li>Kafka速度很快的原因</li>
<li>如何保证消息不丢失</li>
<li>Consumer重复消费怎么处理</li>
<li>如何保证消息的有序性</li>
</ol></div><p class="readmore"><a href="/2020/07/11/%E9%9D%A2%E8%AF%95-kafka%E4%B8%93%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/10/Ambari%E6%98%BE%E7%A4%BAheartbeat_lost%E9%97%AE%E9%A2%98/">python3下配置spark环境</a></h1><div class="post-meta">2020-07-10</div><div class="post-content"><p>在/etc/profile中增加如下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_191</span><br><span class="line">export PYSPARK_PYTHON=/usr/python3/bin/python3</span><br><span class="line">export PYSPARK_DRIVER_PYTHON=/usr/python3/bin/python3</span><br><span class="line">export PYSPARK_SUBMIT_ARGS="--master local pyspark-shell"</span><br><span class="line">export HADOOP_USER_CLASSPATH_FIRST=true</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">export MAVEN_HOME=/usr/local/maven/apache-maven-3.5.4</span><br><span class="line">export SPARK_HOME=/usr/hdp/2.6.5.0-292/spark2</span><br><span class="line">export HADOOP_HOME=/usr/hdp/current/hadoop-client</span><br><span class="line">export HIVE_HOME=/usr/hdp/current/hive-server2-hive2</span><br><span class="line">export PATH=$SPARK_HOME/bin:$MAVEN_HOME/bin:$PATH</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2020/07/10/Ambari%E6%98%BE%E7%A4%BAheartbeat_lost%E9%97%AE%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/10/centos7%E8%BF%9E%E6%8E%A5wpa%20enterprise%E4%BC%81%E4%B8%9A%E7%BA%A7wifi/">python3下配置spark环境</a></h1><div class="post-meta">2020-07-10</div><div class="post-content"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> network-manager.nmcli connection edit <span class="built_in">type</span> 802-11-wireless</span></span><br><span class="line"><span class="meta">nmcli&gt;</span><span class="bash"> goto 802-11-wireless</span></span><br><span class="line">nmcli 802-11-wireless&gt; set ssid &lt;your_ssid&gt;</span><br><span class="line">nmcli 802-11-wireless&gt; back</span><br><span class="line"><span class="meta">nmcli&gt;</span><span class="bash"> goto 802-11-wireless-security</span></span><br><span class="line">nmcli 802-11-wireless-security&gt; set key-mgmt wpa-eap</span><br><span class="line">nmcli 802-11-wireless-security&gt; set auth-alg open</span><br><span class="line">nmcli 802-11-wireless-security&gt; back</span><br><span class="line"><span class="meta">nmcli&gt;</span><span class="bash"> goto 802-1x</span></span><br><span class="line">nmcli 802-1x&gt; set eap peap</span><br><span class="line">nmcli 802-1x&gt; set identity &lt;your_identity&gt;</span><br><span class="line">nmcli 802-1x&gt; set password &lt;your_password&gt;</span><br><span class="line">nmcli 802-1x&gt; set phase2-auth mschapv2</span><br><span class="line">nmcli 802-1x&gt; back</span><br><span class="line"><span class="meta">nmcli&gt;</span><span class="bash"> verify</span></span><br><span class="line"><span class="meta">nmcli&gt;</span><span class="bash"> save</span></span><br><span class="line">Saving the connection with 'autoconnect=yes'. That might result in an immediate activation of the connection.</span><br><span class="line">Do you still want to save? (yes/no) [yes] yes</span><br><span class="line">Connection 'wifi' (20e7bab0-6780-45a7-b650-eafb28e7912a) successfully saved.</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2020/07/10/centos7%E8%BF%9E%E6%8E%A5wpa%20enterprise%E4%BC%81%E4%B8%9A%E7%BA%A7wifi/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/10/python3_spark%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">Ambari显示heartbeat_lost问题</a></h1><div class="post-meta">2020-07-10</div><div class="post-content"><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>重启heartbeat lost机器的ambari-agent</p>
<h1 id="重启命令"><a href="#重启命令" class="headerlink" title="重启命令"></a>重启命令</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service ambari-agent start</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2020/07/10/python3_spark%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/07/%E6%97%A0%E9%87%8D%E5%A4%8D%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/">无重复最长子串</a></h1><div class="post-meta">2020-07-07</div><div class="post-content"><h4 id="3-无重复字符的最长子串"><a href="#3-无重复字符的最长子串" class="headerlink" title="3. 无重复字符的最长子串"></a><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/" target="_blank" rel="noopener">3. 无重复字符的最长子串</a></h4><p>给定一个字符串，请你找出其中不含有重复字符的 <strong>最长子串</strong> 的长度。</p></div><p class="readmore"><a href="/2020/07/07/%E6%97%A0%E9%87%8D%E5%A4%8D%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/06/Spark%E6%A6%82%E5%BF%B5/">Spark专项训练</a></h1><div class="post-meta">2020-07-06</div><div class="post-content"><h1 id="Spark部署模式"><a href="#Spark部署模式" class="headerlink" title="Spark部署模式"></a>Spark部署模式</h1><ol>
<li>standalone模式，开启7077端口提供服务</li>
<li>spark on yarn模式 ：<ol>
<li>client 模式， driver运行在客户端，调试用 </li>
<li>cluster模式， 分布式运行，driver运行在集群子节点 </li>
</ol>
</li>
</ol></div><p class="readmore"><a href="/2020/07/06/Spark%E6%A6%82%E5%BF%B5/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/06/OOM%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/">常见OOM及原因分析</a></h1><div class="post-meta">2020-07-06</div><div class="post-content"><h1 id="常见OOM类型"><a href="#常见OOM类型" class="headerlink" title="常见OOM类型"></a>常见OOM类型</h1><h2 id="堆溢出"><a href="#堆溢出" class="headerlink" title="堆溢出"></a>堆溢出</h2><p>错误信息：java.lang.OutOfMemoryError: Java heap space </p>
<p>Java堆用于存储对象实例，只要不断地创建对象，并且保证GC Roots到对象之间有可达路径来避免垃圾回收机制清除这些对象，那么在对象数量到达最大堆的容量限制后就会产生内存溢出异常。 </p></div><p class="readmore"><a href="/2020/07/06/OOM%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/06/%E4%B8%89%E6%95%B0%E7%9B%B8%E5%8A%A0/">三数之和</a></h1><div class="post-meta">2020-07-06</div><div class="post-content"><h4 id="15-三数之和"><a href="#15-三数之和" class="headerlink" title="15. 三数之和"></a><a href="https://leetcode-cn.com/problems/3sum/" target="_blank" rel="noopener">15. 三数之和</a></h4><p> 给你一个包含 <em>n</em> 个整数的数组 <code>nums</code>，判断 <code>nums</code> 中是否存在三个元素 <em>a，b，c ，*使得 *a + b + c =</em> 0 ？请你找出所有满足条件且不重复的三元组。</p></div><p class="readmore"><a href="/2020/07/06/%E4%B8%89%E6%95%B0%E7%9B%B8%E5%8A%A0/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/07/03/Flink%E7%AA%97%E5%8F%A3/">Flink窗口</a></h1><div class="post-meta">2020-07-03</div><div class="post-content"><h1 id="什么是窗口"><a href="#什么是窗口" class="headerlink" title="什么是窗口"></a>什么是窗口</h1><p>Windows是处理流试计算的核心。 Windows将流分成有限个大小的“存储桶”，我们可以在“存储桶”上应用计算。</p>
<h1 id="窗口类型"><a href="#窗口类型" class="headerlink" title="窗口类型"></a>窗口类型</h1><h2 id="Tumbling-Window"><a href="#Tumbling-Window" class="headerlink" title="Tumbling Window"></a>Tumbling Window</h2><p>翻滚窗口，无数据重叠</p>
<p>滚动窗口分配器将每个元素分配给指定窗口大小的窗口。 滚动窗口具有固定的大小，并且不重叠。 例如，如果您指定大小为5分钟的翻滚窗口，则将评估当前窗口，并且每五分钟将启动一个新窗口，如下图所示。</p></div><p class="readmore"><a href="/2020/07/03/Flink%E7%AA%97%E5%8F%A3/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/30/ConcurrentHashMap%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0/">ConcurrentHashMap如何实现的</a></h1><div class="post-meta">2020-06-30</div><div class="post-content"><h1 id="Jdk1-7的ConcurrentHashMap"><a href="#Jdk1-7的ConcurrentHashMap" class="headerlink" title="Jdk1.7的ConcurrentHashMap"></a>Jdk1.7的ConcurrentHashMap</h1><p>jdk1.7中采用<code>Segment</code> + <code>HashEntry</code>的方式进行实现，结构如下：</p>
<p><img src="/images/jdk1.7_ConcurrentHashMap.png" alt="concurrenthashmap_java8"></p>
<p>Segment数组的意义就是将一个大的table分割成多个小的table来进行加锁，也就是上面的提到的锁分离技术，而每一个Segment元素存储的是HashEntry数组+链表，这个和HashMap的数据存储结构一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> sshift = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ssize = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (ssize &lt; concurrencyLevel) &#123;</span><br><span class="line">    ++sshift;</span><br><span class="line">    ssize &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如上所示，因为ssize用位于运算来计算（<code>ssize &lt;&lt;=1</code>），所以Segment的大小取值都是以2的N次方，无关concurrencyLevel的取值，当然concurrencyLevel最大只能用16位的二进制来表示，即65536，换句话说，Segment的大小最多65536个，没有指定concurrencyLevel元素初始化，Segment的大小ssize默认为16</p>
<p>每一个Segment元素下的HashEntry的初始化也是按照位于运算来计算，用cap来表示，如下所示</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> cap = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (cap &lt; c)</span><br><span class="line">    cap &lt;&lt;= <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>如上所示，HashEntry大小的计算也是2的N次方（cap &lt;&lt;=1）， cap的初始值为1，所以HashEntry最小的容量为2</p>
<h2 id="put操作"><a href="#put操作" class="headerlink" title="put操作"></a>put操作</h2><p>对于ConcurrentHashMap的数据插入，这里要进行两次Hash去定位数据的存储位置</p>
<p>从上Segment的继承体系可以看出，Segment实现了ReentrantLock,也就带有锁的功能，当执行put操作时，会进行第一次key的hash来定位Segment的位置，如果该Segment还没有初始化，即通过CAS操作进行赋值，然后进行第二次hash操作，找到相应的HashEntry的位置，这里会利用继承过来的锁的特性，在将数据插入指定的HashEntry位置时（链表的尾端），会通过继承ReentrantLock的tryLock（）方法尝试去获取锁，如果获取成功就直接插入相应的位置，如果已经有线程获取该Segment的锁，那当前线程会以自旋的方式去继续的调用tryLock（）方法去获取锁，超过指定次数就挂起，等待唤醒</p>
<h1 id="Jdk1-8-ConcurrentHashMap"><a href="#Jdk1-8-ConcurrentHashMap" class="headerlink" title="Jdk1.8 ConcurrentHashMap"></a>Jdk1.8 ConcurrentHashMap</h1><p>Java 8为进一步提高并发性，摒弃了分段锁的方案，而是直接使用一个大的数组。同时为了提高哈希碰撞下的寻址性能，Java 8在链表长度超过一定阈值（8）时将链表（寻址时间复杂度为O(N)）转换为红黑树（寻址时间复杂度为O(long(N))）。其数据结构如下图所示</p></div><p class="readmore"><a href="/2020/06/30/ConcurrentHashMap%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/26/Flink%E6%8F%90%E4%BA%A4%E4%BB%BB%E5%8A%A1/">Flink提交任务</a></h1><div class="post-meta">2020-06-26</div><div class="post-content"><p>Flink以YarnCluster模式提交任务，且指定任务名和队列</p>
<p>flink run -m yarn-cluster -ynm PROD-fink-data-gather  –yarnqueue CClient /home/cclient/danke-flink-data-gather-prod.jar</p></div><p class="readmore"><a href="/2020/06/26/Flink%E6%8F%90%E4%BA%A4%E4%BB%BB%E5%8A%A1/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/25/Flink%E6%97%B6%E9%97%B4/">Flink中的水印与时间</a></h1><div class="post-meta">2020-06-25</div><div class="post-content"><h1 id="watermark-水印）"><a href="#watermark-水印）" class="headerlink" title="watermark(水印）"></a>watermark(水印）</h1><p>Flink中用于衡量event time进度的机制叫做水印</p></div><p class="readmore"><a href="/2020/06/25/Flink%E6%97%B6%E9%97%B4/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/25/Flink%E4%B8%AD%E7%9A%84%E5%B9%B6%E8%A1%8C%E5%BA%A6/">Flink中的并行度</a></h1><div class="post-meta">2020-06-25</div><div class="post-content"><h1 id="Parallel-Execution（并行执行）"><a href="#Parallel-Execution（并行执行）" class="headerlink" title="Parallel Execution（并行执行）"></a>Parallel Execution（并行执行）</h1><p>一个任务被切分成几个并行实例执行，且每个并行实例处理输入任务的一部分数据，并行度会导致乱序问题，任务的并行实力数称为并行性</p></div><p class="readmore"><a href="/2020/06/25/Flink%E4%B8%AD%E7%9A%84%E5%B9%B6%E8%A1%8C%E5%BA%A6/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/20/arthas/">使用arthas分析presto宕机原因</a></h1><div class="post-meta">2020-06-20</div><div class="post-content"><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>Presto半夜总是宕机</p>
<h1 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h1><p>使用arthas分析jvm使用情况</p></div><p class="readmore"><a href="/2020/06/20/arthas/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/18/mysql%E8%BF%81%E7%A7%BB%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E8%A7%A3%E5%86%B3%E7%A3%81%E7%9B%98%E4%B8%8D%E8%B6%B3%E9%97%AE%E9%A2%98/">mysql迁移数据目录解决磁盘不足问题</a></h1><div class="post-meta">2020-06-18</div><div class="post-content"><p>先关闭mysql数据库</p>
<p>mv /var/lib/mysql /data/mysql_data</p></div><p class="readmore"><a href="/2020/06/18/mysql%E8%BF%81%E7%A7%BB%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%E8%A7%A3%E5%86%B3%E7%A3%81%E7%9B%98%E4%B8%8D%E8%B6%B3%E9%97%AE%E9%A2%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/17/%E6%89%BE%E5%88%B0%E4%B8%A4%E4%B8%AA%E5%8D%95%E9%93%BE%E8%A1%A8%E7%9B%B8%E4%BA%A4%E7%9A%84%E8%B5%B7%E5%A7%8B%E8%8A%82%E7%82%B9/">LeetCode 160. 相交链表</a></h1><div class="post-meta">2020-06-17</div><div class="post-content"><p> 编写一个程序，找到两个单链表相交的起始节点。 </p>
<h3 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h3><p>快慢指针</p>
<p>因为两个链表长度可能不一样，但是相交后的元素都是一样的，可以使用快慢指针</p>
<p>***** 分别遍历链表，获取其长度，长链表命名为quickNode，短链表命名为slowNode，二者长度差为quickStep</p>
<p>***** quickNode先运行quickStep步之后，此时两个链表长度相等，用一个循环就能找到相同起始节点</p></div><p class="readmore"><a href="/2020/06/17/%E6%89%BE%E5%88%B0%E4%B8%A4%E4%B8%AA%E5%8D%95%E9%93%BE%E8%A1%A8%E7%9B%B8%E4%BA%A4%E7%9A%84%E8%B5%B7%E5%A7%8B%E8%8A%82%E7%82%B9/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/15/inode%E7%A3%81%E7%9B%98%E6%B8%85%E7%90%86/">inode磁盘清理</a></h1><div class="post-meta">2020-06-15</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/15/inode%E7%A3%81%E7%9B%98%E6%B8%85%E7%90%86/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/15/%E5%BB%BA%E8%90%BD%E5%9C%B0%E4%B8%B4%E6%97%B6%E8%A1%A8%E5%86%99%E5%85%A5%E5%BE%88%E6%85%A2%E5%AF%BC%E8%87%B4%E5%BC%82%E5%B8%B8%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">建落地临时表写入很慢导致异常的解决方法</a></h1><div class="post-meta">2020-06-15</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/15/%E5%BB%BA%E8%90%BD%E5%9C%B0%E4%B8%B4%E6%97%B6%E8%A1%A8%E5%86%99%E5%85%A5%E5%BE%88%E6%85%A2%E5%AF%BC%E8%87%B4%E5%BC%82%E5%B8%B8%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/15/%E8%AF%B7%E6%B1%82%E8%A2%AB%E6%8F%90%E4%BA%A4%E5%88%B0%E5%B7%B2%E7%BB%8F%E5%88%A0%E9%99%A4%E7%9A%84hiveserver2/">beeline请求被提交到已经删除的hiveserver2节点</a></h1><div class="post-meta">2020-06-15</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/15/%E8%AF%B7%E6%B1%82%E8%A2%AB%E6%8F%90%E4%BA%A4%E5%88%B0%E5%B7%B2%E7%BB%8F%E5%88%A0%E9%99%A4%E7%9A%84hiveserver2/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/14/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91/">算法-二叉树</a></h1><div class="post-meta">2020-06-14</div><div class="post-content"><p>二叉树需要声明一个Node节点，包含节点得值，以及左右两个子节点</p>
<p>Node节点代码如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.code.note.tree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&gt;</span>&#123;</span><br><span class="line">    T value;</span><br><span class="line">    Node left;</span><br><span class="line">    Node right;</span><br><span class="line"></span><br><span class="line">    Node(T value) &#123;</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2020/06/14/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%8F%89%E6%A0%91/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/14/%E7%AE%97%E6%B3%95-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/">leetcode 2.两数相加</a></h1><div class="post-meta">2020-06-14</div><div class="post-content"><h1 id="2-两数相加"><a href="#2-两数相加" class="headerlink" title="2. 两数相加"></a><a href="https://leetcode-cn.com/problems/add-two-numbers/" target="_blank" rel="noopener">2. 两数相加</a></h1><p>给出两个 <strong>非空</strong> 的链表用来表示两个非负的整数。其中，它们各自的位数是按照 <strong>逆序</strong> 的方式存储的，并且它们的每个节点只能存储 <strong>一位</strong> 数字。</p>
<p>如果，我们将这两个数相加起来，则会返回一个新的链表来表示它们的和。</p>
<p>您可以假设除了数字 0 之外，这两个数都不会以 0 开头。</p>
<p><strong>示例：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)</span><br><span class="line">输出：7 -&gt; 0 -&gt; 8</span><br><span class="line">原因：342 + 465 &#x3D; 807</span><br></pre></td></tr></table></figure></div><p class="readmore"><a href="/2020/06/14/%E7%AE%97%E6%B3%95-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/Docker%E5%AE%89%E8%A3%85superset/">Docker安装superset</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/Docker%E5%AE%89%E8%A3%85superset/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/Ambari%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/">Ambari集群安装</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/Ambari%E9%9B%86%E7%BE%A4%E5%AE%89%E8%A3%85/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/JVM%E7%AE%97%E6%B3%95/">JVM垃圾回收算法与收集器</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/JVM%E7%AE%97%E6%B3%95/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/Hue%E9%85%8D%E7%BD%AEPresto/">Hue配置Presto</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/Hue%E9%85%8D%E7%BD%AEPresto/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/Linux%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BAparted%E5%91%BD%E4%BB%A4/">Linux挂载分区parted命令</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/Linux%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BAparted%E5%91%BD%E4%BB%A4/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0/">Java线程池</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/Java%E7%BA%BF%E7%A8%8B%E6%B1%A0/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/Presto%E5%AF%BC%E5%87%BA%E5%88%B0csv/">Presto导出到csv</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/Presto%E5%AF%BC%E5%87%BA%E5%88%B0csv/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/spark-submit%E6%97%B6%E5%80%99%E6%B7%BB%E5%8A%A0jars/">spark-submit时候添加jars</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/spark-submit%E6%97%B6%E5%80%99%E6%B7%BB%E5%8A%A0jars/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/%E4%BD%BF%E7%94%A8Macpro%E5%88%9B%E5%BB%BAcentos7%E5%90%AF%E5%8A%A8%E7%9B%98/">使用Macpro创建centos7启动盘</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/%E4%BD%BF%E7%94%A8Macpro%E5%88%9B%E5%BB%BAcentos7%E5%90%AF%E5%8A%A8%E7%9B%98/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2020/06/03/%E6%89%8B%E5%8A%A8%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85flink%EF%BC%8C%E9%80%82%E9%85%8Dhdp%E7%89%88%E6%9C%AChadoop/">手动编译安装flink，适配ambari hdp版本hadoop</a></h1><div class="post-meta">2020-06-03</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2020/06/03/%E6%89%8B%E5%8A%A8%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85flink%EF%BC%8C%E9%80%82%E9%85%8Dhdp%E7%89%88%E6%9C%AChadoop/">Read More</a></p></div><div class="post"><h1 class="post-title"><a href="/2012/06/15/ambari%E9%9B%86%E7%BE%A4datanode%E5%87%BA%E7%8E%B0OOM%E9%97%AE%E9%A2%98/">ambari集群datanode出现OOM问题</a></h1><div class="post-meta">2012-06-15</div><div class="post-content"><p>文章内容</p></div><p class="readmore"><a href="/2012/06/15/ambari%E9%9B%86%E7%BE%A4datanode%E5%87%BA%E7%8E%B0OOM%E9%97%AE%E9%A2%98/">Read More</a></p></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><span class="category-list-count">36</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 15px;">大数据</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">算法</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 15px;">面试</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/11/03/Flink%20Connect%E5%92%8CUnion%E5%8C%BA%E5%88%AB/">Flink Connect和Union区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/20/Java8%E7%9A%84Function%E5%92%8CBI_Function/">Java8的Function和BI_Function</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/10/20/Java%E4%B8%AD%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E4%B8%AD%E7%9A%84%E8%B5%84%E6%BA%90%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95/">Java中如何自动调用父类中的资源初始化方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/20/Centos7%E5%AE%89%E8%A3%85python3/">Centos7安装python3</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E4%BB%93%E5%BA%93/">如何搭建个人仓库</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/11/%E9%9D%A2%E8%AF%95-kafka%E4%B8%93%E9%A2%98/">面试-Kafka专题</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/10/Ambari%E6%98%BE%E7%A4%BAheartbeat_lost%E9%97%AE%E9%A2%98/">python3下配置spark环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/10/centos7%E8%BF%9E%E6%8E%A5wpa%20enterprise%E4%BC%81%E4%B8%9A%E7%BA%A7wifi/">python3下配置spark环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/10/python3_spark%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/">Ambari显示heartbeat_lost问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/07/07/%E6%97%A0%E9%87%8D%E5%A4%8D%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/">无重复最长子串</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://heqiao2010.github.io/" title="HeQiao的博客" target="_blank">HeQiao的博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">工作随笔.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=0.0.0"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>