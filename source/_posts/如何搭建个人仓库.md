---
title: 如何搭建个人仓库
date: 2020-07-11 14:40:30
tags: Linux
---

# ssh端口为22情况

在服务器端172.27.9.121搭建仓库

1.在仓库目录/tmp/myproject.git输入git init

2.允许上传代码

```shell
git config receive.denyCurrentBranch ignore
```



<!--more-->



3.在本地clone远程仓库代码

```shell
git clone root@172.27.9.121:/tmp/myproject.git
```

4.向121服务器~/.ssh/authxxx 添加私钥，免密码认证



# 如何上传非ssh端口代码

编辑本地文件~/.ssh/config，增加如下内容,remotevps代表的是远端服务器

```
# For all hosts
ServerAliveInterval 10

Host remotevps
HostName 107.123.123.123
Port 12345
User root


Host *
  UseKeychain yes
  AddKeysToAgent yes
  IdentityFile ~/.ssh/id_rsa

Host *
    IdentitiesOnly yes
```

设置远程push链接

```shell
git remote add origin root@remotevps:/opt/git/resumegit remote add origin 
```

克隆远端代码仓库命令

```shell
git clone root@remotevps:/home/yKF6600/OasisSpark2
```